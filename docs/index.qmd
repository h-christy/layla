---
title: "Causal Inference for Computational Social Science"
subtitle: "Modeling Political Islam"
date: "2025-07-14"
authors:
  - name: Christy Hsu
    affiliation: Georgetown University
    roles: writing
    corresponding: true
description: "To people who travel and take notes"
title-block-banner: '#C6E3E1'
title-block-banner-color: "#6F6F6F"
format:
  html:
    df-print: kable
    # embed-resources: true
    theme: default
    css: styles.css
bibliography: causal.bib
---
# Abstract
# Intro

This project hopes to explore the data-generating process(es), or the story of how *Arab Sunni Muslims in 1988*, from three distinct populations-- **Egyptians, Kuwaitis, and Palestinians in Kuwait**—-came to support their contemporary **Islamic movements**. In particular, it looks into the role of personal religiosity, perceptions of Islam’s role in society, and relational attitudes such as how individuals relate to their personal and national identities, how they view their government, their neighbors, and their past and present relationships with the West.

With the flexibility and expressiveness of the PGM language, I hope these attempts here (learning the structure and respecting the variations) can be seen as an effort to situate how the supportive attitude toward Political Islam within their contexts, while also demonstrate a variety of political and social imaginations that constitute the complex story behind the general labels of Sunni, Arab, Muslim, Middle Easterner.

# Literature Review

#### Brooke and Ketchley

Steven Brooke and Neil Ketchley "Social and Institutional Origins of Political Islam": the spread and the distribution of Muslim Brotherhood branches in the Interwar (1937-1945) Egypt[@brookeSocialInstitutionalOrigins2018]

This recent study on the history of the spread of Muslim Brotherhood in the inter-war period has a special focus on the spatial distribution of MB branches. The dataset they collected and created is available on dataverse.

#### Mark Tessler

In his 1997 article, Mark Tessler used 1988 survey data to argue that understanding popular support for Islamist movements in Arab countries requires distinguishing between Islam as personal and societal salience and the “Political Islam”. This distinction can lead us to see that attitudes toward personal and societal Islam do not necessarily align with attitudes toward political Islam. This insight challenged the prevailing assumption at the time, that support for Islamists, especially their anti-Western attitudes and actions in the news, stemmed directly from religious motives and thus an inevitable "clash of civilizations” owing to contradictory value systems. Thus, exempted attention to the socioeconomic and political grievances that has even stronger associations with the popular leaning to Islamic movements.(@tesslerOriginsPopularSupport1997)


# Data Collection

## Evidence from Public Opinion Surveys

### *Carnegie Middle East Governance and Islam Dataset, 1988-2014 (ICPSR 32302)*(@tesslerCarnegieMiddleEast2016a)^[Tessler, Mark. Carnegie Middle East Governance and Islam Dataset, 1988-2014. Inter-university Consortium for Political and Social Research [distributor], 2016-04-28. https://doi.org/10.3886/ICPSR32302.v6]

This dataset from ICPSR contains individual and country level variables from surveys done in the Middle East during 1988 to 2014, integrating 56 surveys to allow two-level, over-time analysis.

### 1988 Public Opinion Survey

This survey was carried out in mid-1988, with samples drawn from Cairo and Kuwait, targeting the urban Sunni Muslim adults: Egyptians (n = 292), Kuwaitis (n = 300) and Palestinians residing in Kuwait (n = 293).^[ICPSR 32302 codebook, @garnhamDemocracyWarPeace1995, pp. 164-166. Namely, Kuwaiti Shii muslims, Egyptian Christians and Palestinian Christians were excluded.] This implies that we can generally attribute the following labels for the respondents in the dataset:

- Sunni Muslim
- Arab
- Adult
- Urban

Allowing for a glimpse into the patterns and variations in attitudes at the individual level, at the same time, the design of this survey project enables us to group these individuals into belonging to three distinct populations:

- Egyptian citizens
- Kuwaiti citizens
- Long-time Palestinian residents of Kuwait

Which, in turn, provides us the opportunity for understanding and comparison at a more coarse level. This survey project also looked forward to the typicality and generalizability of the sample of Egyptians to represent (Tunisians, Algerians, Jordanians, Moroccans); as for the sample of Kuwaitis to represent those living in the Gulf shakhdoms.

The dimensions of the original data is 885 times 154 variables, which correspond to 102 survey questions.

## Episodes

#### Episode 1

::: {.callout-tip appearance="simple"}

##### Inquiry regarding missing sample and Request for original survey questionnaire

I first encountered the 1988 public opinion survey while reading Tessler's *"The origins of popular support for Islamist movements: A political economy analysis (1997)"*[@tesslerOriginsPopularSupport1997] Later, I was able to find this dataset available on ICPSR, presented in *Carnegie Middle East Governance and Islam Dataset, 1988-2014 (ICPSR 32302)*[@tesslerCarnegieMiddleEast2016a] This dataset is an effort to gather surveys across the period, reorganize and harmonize the survey items into variables that allow for analysis over time. Therefore, some of survey items that Tessler used in his analysis cannot be found in the dataset, and the codebook contains limited descriptions for the 1988 survey.

As I went on to seek for further details about the 1988 survey, I came across Tessler and Grobschmidt's study *"Democracy in the Arab world and the Arab-Israeli conflict (1995)"*.[@garnhamDemocracyWarPeace1995, Mark Tessler, and Marilyn Grobschmidt. "Democracy in the Arab world and the Arab-Israeli conflict.", pp. 135-169] This earlier analysis led me to learn that the 1988 survey originally included 293 Palestinians residing in Kuwait, while the ICPSR dataset only contains the 292 Egyptian respondents and the 300 Kuwaiti respondents.^[and in 1992 Tessler had already finished writing his research "The Origin of Popular Support for Islamist movements" as a part of a research project launched by USAID, yet, it was till 1997 that the paper was rewritten and published]

![](image/codebook.png){width="50%"}
![](image/total885.png){width="70%"}

That is, although the dataset I have acquired is already fruitful, yet, relying on it alone would not allow me to replicate many analyses that were done right after 1988. And I could not convince myself not to think about why there were originally three samples originally yet I am now using only two of them because of accessibility.

Therefore, I reached out first to ICPSR. They looked over the version history and did not find any records about the 1988 Palestinian sample nor the original survey instrument. Thus, they kindly contacted Professor Tessler on my behalf. The good new today is that I received professor Tessler's reply. In the mean time, I truly look forward to learn more about what happened with the Palestinian sample and anticipate the chance of access to the original dataset.

![](image/dataset-inquiry.png){width="50%"}

:::

#### Episode 2

Thanks to the generosity and kindness of Professor Tessler, I have the chance to look into these three groups together. And I worked on to recover the original variables with the researches done in the 1980s, 1990s that used the original variable name, especially:

- Mark Tessler, and Jamal Sanad, "Will the Arab Public Accept Peace with Israel: Evidence From Surveys in Three Arab Societies." In *Israel at the Crossroads*, Gregory Mahler and Efraim Karsh ed. (London: British Academic Press, 1994)(@karshIsraelCrossroadsChallenge1994)^[pp. 48-70]
- David Garnham, and Mark A. Tessler, *Democracy, War, and Peace in the Middle East* (Bloomington: Indiana University Press, 1995)(@garnhamDemocracyWarPeace1995)^[Mark Tessler, and Marilyn Grobschmidt. "Democracy in the Arab world and the Arab-Israeli conflict.", pp. 135-169]
- Mark A. Tessler, and Jolene Jesse, "Gender and Support for Islamist Movements: Evidence from Egypt, Kuwait and Palestine." *The Muslim World* 86, no. 2 (1996): 200–228. ATLA0001012290.(@GenderSupportIslamist)
- Mark Tessler, and Ina Warriner. “Gender, Feminism, and Attitudes toward International Conflict: Exploring Relationships with Survey Data from the Middle East.” *World Politics* 49, no. 2 (1997): 250–81. https://doi.org/10.1353/wp.1997.0005.(@tesslerGenderFeminismAttitudes1997)
- Mark Tessler, “The Origins of Popular Support for Islamist Movements: A Political Economy Analysis.” *Islam, Democracy, and the State in North Africa*, (Bloomington: Indiana University Press, 1997)

#### Episode 3

After reading the related materials, I was able to map most of the variables to the corresponding questions that were asked. I later went on to recover some of the variables that were not decoded properly.^[most of them were variables that ask the respondent to rank]

Please use the following link to take a glimpse of the 70% recovered codebook for the 1988 survey.
[1988variables](https://github.com/h-christy/layla/blob/main/ekp-overview.html)


# Place the Model

## Dependent and Independent Variables
```{r}
library(tidyverse)
library(lme4)

ekp_df <- read_csv('data/ekp-1988-survey.csv')
ekp_df |> dim() |> print()
ekp_df |> tail(4)
```

### Dependent V: Support for Political Islam

This project hopes to understand the historical topic-- *Islamic Revival*, *Islamic Radicalization* or *Islamic Ideology*-- that is central to the history of Modern Middle East, by assessing proposed theses and explanations through a 1988 public opinion survey.^[Or the history of Islamic Societies in the modern period. The "Modern" Middle East, for analytical purpose, is commonly agreed to have begun with Napoleon's invasion of Egypt in 1798.] 

The dependent variable of this study is "Support for Political Islam", which I draws on the 1988 survey's effort in measuring how people perceive, at that particular point in time, the ideas, the organizational structures and actions taken to explore the relationships of Islam and politics in that modern world. That is, among the 102 questions in this survey, many of them wanted to understand people's attitude toward Islamic movements, yet we have to be aware that attitudes are not observable, thus, here I am going to use two specific survey items that ask directly about the repsondent's agreement and thoughts on the Islamic movements that were taking place at that time, as a proxy to their opinion on Political Islam.

#### Which of the following best represents your political beliefs and orientations?


One of the variable corresponding to the question *Which of the following best represents your political beliefs and orientations?*, seems to be answering the respondent's political affiliation or ideological orientation. Therefore, I also construct a variable called `islamist`, to represent those who answered with either Muslim Brotherhood or other Islamist organization. This variable can be considered as a further step from finding islamist movements agreeable to saying, declaration of their affiliation.

```{.r}
. tab Q55 GROUP, col missing chi2

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

 POLITICAL BELIEFS & | EGYPTIANS,KUWAITIS,PALESTINIANS
        ORIENTATIONS |     EGYPT     KUWAIT  PALESTINI |     Total
---------------------+---------------------------------+----------
    ARAB NATIONALISM |       103        117        137 |       357 
                     |     35.27      39.00      46.76 |     40.34 
---------------------+---------------------------------+----------
           SOCIALISM |        57          6         17 |        80 
                     |     19.52       2.00       5.80 |      9.04 
---------------------+---------------------------------+----------
           COMMUNISM |         3          1          3 |         7 
                     |      1.03       0.33       1.02 |      0.79 
---------------------+---------------------------------+----------
          LIBERALISM |        29         17         20 |        66 
                     |      9.93       5.67       6.83 |      7.46 
---------------------+---------------------------------+----------
  MUSLIM BROTHERHOOD |        32         37         18 |        87 
                     |     10.96      12.33       6.14 |      9.83 
---------------------+---------------------------------+----------
E(WAFD)K(TRIB)P(OIG) |         9         32         24 |        65 
                     |      3.08      10.67       8.19 |      7.34 
---------------------+---------------------------------+----------
 E-K OTHER ISLAM ORG |        19         11          1 |        31 
                     |      6.51       3.67       0.34 |      3.50 
---------------------+---------------------------------+----------
E SHARIAH K-P DNKNOW |         6         38         34 |        78 
                     |      2.05      12.67      11.60 |      8.81 
---------------------+---------------------------------+----------
   E DEM K-P SHARIAH |        11         18         20 |        49 
                     |      3.77       6.00       6.83 |      5.54 
---------------------+---------------------------------+----------
  MUSLIM NATIONALISM |         0          3          0 |         3 
                     |      0.00       1.00       0.00 |      0.34 
---------------------+---------------------------------+----------
NATIONALISM MBH TRIB |         0          2          0 |         2 
                     |      0.00       0.67       0.00 |      0.23 
---------------------+---------------------------------+----------
NATIONALISM SOC COMM |         0          1          1 |         2 
                     |      0.00       0.33       0.34 |      0.23 
---------------------+---------------------------------+----------
  DEM BASED ON ISLAM |         0          1          0 |         1 
                     |      0.00       0.33       0.00 |      0.11 
---------------------+---------------------------------+----------
     NATIONALISM&OIG |         0          1          0 |         1 
                     |      0.00       0.33       0.00 |      0.11 
---------------------+---------------------------------+----------
SCIENTIFIC SOCIALISM |         0          1          0 |         1 
                     |      0.00       0.33       0.00 |      0.11 
---------------------+---------------------------------+----------
      MODERATE ISLAM |         0          1          0 |         1 
                     |      0.00       0.33       0.00 |      0.11 
---------------------+---------------------------------+----------
         NATIONALISM |         0          1          2 |         3 
                     |      0.00       0.33       0.68 |      0.34 
---------------------+---------------------------------+----------
           DEMOCRACY |         0          1          0 |         1 
                     |      0.00       0.33       0.00 |      0.11 
---------------------+---------------------------------+----------
ARAB-ISLAMIC NATIONA |         0          6          6 |        12 
                     |      0.00       2.00       2.05 |      1.36 
---------------------+---------------------------------+----------
       SOCIALISM&MBH |         0          1          1 |         2 
                     |      0.00       0.33       0.34 |      0.23 
---------------------+---------------------------------+----------
               SALAF |         0          1          0 |         1 
                     |      0.00       0.33       0.00 |      0.11 
---------------------+---------------------------------+----------
ARAB NATIONALISM&SOC |         0          1          1 |         2 
                     |      0.00       0.33       0.34 |      0.23 
---------------------+---------------------------------+----------
ISLAMIC TAHRIR PARTY |         0          0          1 |         1 
                     |      0.00       0.00       0.34 |      0.11 
---------------------+---------------------------------+----------
                   . |        23          2          7 |        32 
                     |      7.88       0.67       2.39 |      3.62 
---------------------+---------------------------------+----------
               Total |       292        300        293 |       885 
                     |    100.00     100.00     100.00 |    100.00 

         Pearson chi2(46) = 182.4907   Pr = 0.000

. 
```
```{.r}
ekp_df <- ekp_df |> mutate(islamist = case_when(
    Q55 %in% c(
        'MUSLIM BROTHERHOOD', 'ISLAMIC TAHRIR PARTY',
        'E-K OTHER ISLAM ORG'
        ) ~ 1,
    is.na(Q55) ~ NA_integer_,
    TRUE ~ 0
))
ekp_df |> count(islamist)
```


The main two variables that forms our operationalization of *Support for Political Islam* are:

#### Do you support the current organized religious movements?

```{.r}
. tab Q72 GROUP, col missing chi2

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

    DO YOU |
   SUPPORT |
      CURR |
 ORGANIZED | EGYPTIANS,KUWAITIS,PALESTINIANS
 RELG MOVE |     EGYPT     KUWAIT  PALESTINI |     Total
-----------+---------------------------------+----------
       YES |        36         45         31 |       112 
           |     12.33      15.00      10.58 |     12.66 
-----------+---------------------------------+----------
  SOMEWHAT |        81        105         94 |       280 
           |     27.74      35.00      32.08 |     31.64 
-----------+---------------------------------+----------
        NO |       149        106        122 |       377 
           |     51.03      35.33      41.64 |     42.60 
-----------+---------------------------------+----------
 UNCERTAIN |        23         42         40 |       105 
           |      7.88      14.00      13.65 |     11.86 
-----------+---------------------------------+----------
         . |         3          2          6 |        11 
           |      1.03       0.67       2.05 |      1.24 
-----------+---------------------------------+----------
     Total |       292        300        293 |       885 
           |    100.00     100.00     100.00 |    100.00 

          Pearson chi2(8) =  21.7615   Pr = 0.005

. 
```
```{r}
ekp_df |> count(group_name, supp_islam_mov) |>
  group_by(group_name) |>
  mutate(
    pct = 100 * n / sum(n)
  )
```

```{r}
palette4 <- c('#A597C5', '#D2CDDF', '#FFFFD1', '#CEE8B9','#86BDB1', '#54766E')

na_palette <- c('#E5DED8')

ekp_df |> 
  count(group_name, supp_islam_mov) |> 
  group_by(group_name) |> 
  mutate(pct = 100 * n / sum(n)) |> 
  ggplot(aes(x = group_name, y = pct, fill = factor(supp_islam_mov))) +
  geom_col(position = "dodge", color = "grey") +
  scale_fill_manual(
    values = c(palette4, na_palette),
    na.value = na_palette
  ) +
  labs(
    x = "Group",
    y = "Percentage",
    fill = "Support Level",
    title = "Support Islamic Movements"
  ) +
  theme_bw() +
  theme(
    panel.grid.major.x = element_blank(),
    panel.grid.minor.x = element_blank()
  )
```

#### What do you think of the religious awakening now taking place in society?

```{.r}
. tab Q69 GROUP, col missing chi2

+-------------------+
| Key               |
|-------------------|
|     frequency     |
| column percentage |
+-------------------+

                     | EGYPTIANS,KUWAITIS,PALESTINIANS
 RELIGIOUS AWAKENING |     EGYPT     KUWAIT  PALESTINI |     Total
---------------------+---------------------------------+----------
         IN FAVOR OF |       181        196        162 |       539 
                     |     61.99      65.33      55.29 |     60.90 
---------------------+---------------------------------+----------
             AGAINST |        63         49         49 |       161 
                     |     21.58      16.33      16.72 |     18.19 
---------------------+---------------------------------+----------
         DO NOT KNOW |        40         51         77 |       168 
                     |     13.70      17.00      26.28 |     18.98 
---------------------+---------------------------------+----------
 AGREE W/O EXTREMISM |         0          2          0 |         2 
                     |      0.00       0.67       0.00 |      0.23 
---------------------+---------------------------------+----------
AGREE IF COM W MODER |         1          1          0 |         2 
                     |      0.34       0.33       0.00 |      0.23 
---------------------+---------------------------------+----------
                   . |         7          1          5 |        13 
                     |      2.40       0.33       1.71 |      1.47 
---------------------+---------------------------------+----------
               Total |       292        300        293 |       885 
                     |    100.00     100.00     100.00 |    100.00 

         Pearson chi2(10) =  27.7779   Pr = 0.002

. 
```
```{r}
# ekp_df |> count(group_name, relg_awakening) |>
#   group_by(group_name) |>
#   mutate(
#     pct = 100 * n / sum(n)
#   )
```
### Preparing the variables

I reconstructed most of the attitudinal variables into scales of 1–4 or 1–3, in order to preserve their ordinal nature and to allow further aggregation and averaging into broader composite scales.

```{r}
library(tidyverse)
library(psych)
```
```{r}
islam_cols <- c("supp_islam_mov", "relg_awakening", "quran_freq", "ref_relg_freq", "sharia_sociolife", "sharia_crim_civ", "relg_study", "sep_relg_politics", "priv_relg")
islam_df <- ekp_df |> dplyr::select(all_of(islam_cols))
fa.parallel(islam_df, fa = "fa", n.iter = 100, show.legend = TRUE)
fa_islam <- fa(islam_df, nfactors = 4, rotate = "varimax", fm = "ml")
fa.diagram(fa_islam)
```

My factor analysis for the Islam related items led me to four dimensions of Islam, I then construct `personal_islam`, `social_islam`, `opp_pol_islam` and `pol_islam` regarding to the clusters.


## Cross Tabulation


## Base Model: Linear Regression with Adaptive Pooling

### Some Group Level Contexts

::: {.callout-tip appearance="simple"}

I am not sure whether I can share the original dataset here, since it has never been published on its own yet, and I request it directly from author Mark Tessler. For reference, I provided a pdf of all the variables cross tabulated by `GROUP` (which is the three samples) in STATA, chi-squared test p-values are also presented in the PDF file.
[cross tabulation](https://github.com/h-christy/layla/blob/main/cross_tabs_grp.pdf)
:::


#### Cairenes living in *America's Egypt*: the 1980s

1. Population Size: 9,000,000 in Cairo
2. Political Form: Secularized State and Islamic Opposition(@lapidusHistoryIslamicSocieties2014)^[military authoritarian regime with some democratic opening in the 1980s]
3. 

#### Being a Citizen of Kuwait before the 2nd Gulf War

1. Population Size: 850,000
2. Political Form: Monarchy and welfare programs

#### Kuwaiti Palestinians or Expatriate Labors

1. Population Size: 300,000(@clevelandHistoryModernMiddle2013, pp. 404-409)
```{r}
library(lme4)
```

```{r}
source('data/stat_binscatter.r')
```
```{r}
group_labels <- c(
  "Egyptian"    = "Egyptian (n = 292)",
  "Kuwaiti"     = "Kuwaiti (n = 300)",
  "Palestinian" = "Palestinian (n = 293)"
)
```
```{r}
eg_lm <- lm(pol_islam0 ~ persocio_islam0, data = ekp_df|> filter(group_name == "Egyptian"))
ku_lm <- lm(pol_islam0 ~ persocio_islam0, data = ekp_df|> filter(group_name == "Kuwaiti"))
pa_lm <- lm(pol_islam0 ~ persocio_islam0, data = ekp_df|> filter(group_name == "Palestinian"))
full_lm <- lm(pol_islam0 ~ persocio_islam0, data = ekp_df)
adapt_lm <- lmer(pol_islam0 ~ persocio_islam0 + (1 + persocio_islam0 | group_name), data = ekp_df)

full_coef <- tibble(
  group_name = unique(ekp_df$group_name),
  model = "Full pooling",
  intercept = full_lm$coefficients["(Intercept)"],
  slope = full_lm$coefficients["persocio_islam0"]
)

adapt_coef <- coef(adapt_lm)$group_name |>
  rownames_to_column("group_name") |>
  rename(intercept = `(Intercept)`,
         slope = persocio_islam0) |>
  mutate(model = "Adaptive pooling")

no_coef <- bind_rows(
  tibble(group_name = "Egyptian",
         model = "No pooling",
         intercept = eg_lm$coefficients[["(Intercept)"]],
         slope = eg_lm$coefficients[["persocio_islam0"]]),
  tibble(group_name = "Kuwaiti",
         model = "No pooling",
         intercept = ku_lm$coefficients[["(Intercept)"]],
         slope = ku_lm$coefficients[["persocio_islam0"]]),
  tibble(group_name = "Palestinian",
         model = "No pooling",
         intercept = pa_lm$coefficients[["(Intercept)"]],
         slope = pa_lm$coefficients[["persocio_islam0"]])
)
coef_df <- bind_rows(full_coef, adapt_coef, no_coef)
p3 <- ggplot(ekp_df, aes(x = persocio_islam0, y = pol_islam0)) +
  stat_binscatter(
    aes(group = group_name),
    geom = "pointrange",
    bins = 8
  ) +
  geom_abline(
    data = coef_df,
    aes(
      intercept = intercept,
      slope = slope,
      color = model,
      linetype = model
    ),
    linewidth = 1.3
  ) +
  facet_wrap(~ group_name, labeller = labeller(group_name = group_labels)) +
  theme_bw() +
  labs(
    title = "Multilevel Regression",
    x = "Personal and Social Islam",
    y = "Political Islam",
    color = "Model",
    linetype = "Model"
  ) +
  scale_color_manual(
    values = c(
      "Full pooling" = "darkgreen",
      "No pooling" = "purple",
      "Adaptive pooling" = "black"
    )
  ) +
  scale_linetype_manual(
    values = c(
      "Full pooling" = 1,
      "No pooling" = 3,
      "Adaptive pooling" = 2
    )
  )
ggsave(filename = "image/multilevel-regression-p3.png", plot = p3, width = 22, height = 8)
```
![](image/multilevel-regression-p3.png)

## PyMC Model One: Personal-Social Islam * Politically Active = Political Islam?

```{.python}
#| colab: {base_uri: https://localhost:8080/, height: 35}
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns
import patchworklib as pw
import pymc as pm
import arviz as az

# from google.colab import drive
# drive.mount('/content/drive')

# ekp_df = pd.read_csv('/content/drive/MyDrive/ekp-original/ekp-1988-survey.csv')
ekp_df.shape
```


```{.python}
#| colab: {base_uri: https://localhost:8080/}
from sklearn.model_selection import train_test_split

train_df, test_df = train_test_split(ekp_df, train_size = 0.8, random_state = 5650)
print(train_df.shape, test_df.shape)

X_train = train_df.drop(columns=['supp_islam_mov', 'relg_awakening', 'pol_islam', 'pol_islam_binary', 'pol_islam0'])
y_train = train_df['pol_islam_binary']
X_test = test_df.drop(columns=['supp_islam_mov', 'relg_awakening', 'pol_islam', 'pol_islam_binary', 'pol_islam0'])
y_test = test_df['pol_islam_binary']
X_train.shape, X_test.shape, y_train.shape, y_test.shape
```

```{.python}
from collections import OrderedDict
survey_model_aucs = OrderedDict()
```

```{.python}
from sklearn.metrics import RocCurveDisplay, auc, roc_curve
def plot_roc(true_labels, pred_p_pol_islam, plot_title="ROC Curve"):
    ax = pw.Brick(figsize=(3, 3))
    model_fpr, model_tpr, model_thresholds = roc_curve(
        y_true=true_labels, y_score=pred_p_pol_islam, pos_label=1, drop_intermediate=True
    )
    model_auc = auc(model_fpr, model_tpr)
    roc_display = RocCurveDisplay(fpr=model_fpr, tpr=model_tpr, roc_auc=model_auc)
    roc_display = roc_display.plot(ax=ax, marker="o", markersize=2, plot_chance_level=True)
    ax.set_title(plot_title);
    ax.legend(fontsize=10);
    display(ax.savefig())
    return model_auc
```

```{.python}
#| colab: {base_uri: https://localhost:8080/, height: 576}
coords = {'response_id': X_train.index.values}

with pm.Model(coords = coords) as active_model:
    pol_islam_obs = pm.Data('pol_islam_obs', y_train, dims = 'response_id')
    ps_islam_obs = pm.Data('ps_islam_obs', X_train['persocio_islam0'], dims = 'response_id')
    pol_act_obs = pm.Data('pol_act_obs', X_train['pol_act0'], dims = 'response_id')
    alpha = pm.Normal('alpha', 0, 1)
    beta_p = pm.Normal('beta_p', 0, 1)
    beta_a = pm.Normal('beta_a', 0, 1)
    beta_ap = pm.Normal('beta_ap', 0, 1)
    p_pol_islam = pm.Deterministic(
        'p_pol_islam',
        pm.math.invlogit(
            alpha + beta_p * ps_islam_obs + beta_a * pol_act_obs +
            beta_ap * (ps_islam_obs * pol_act_obs)
        ),
        dims = 'response_id'
    )
    pol_islam = pm.Bernoulli(
        'pol_islam',
        p = p_pol_islam,
        observed = pol_islam_obs,
        dims = 'response_id'
    )
pm.model_to_graphviz(active_model)
```
![](image/pgm1-vis.png)

```{.python}
#| colab: {base_uri: https://localhost:8080/, height: 523, referenced_widgets: [d434828eb19044f085bbb27f29f8e4d0, 2d1a5f44f71644a1978a10be4bfc3dd3]}
with active_model:
    active_idata = pm.sample(random_seed = 5650)

az.summary(active_idata)
```

## Point Estimates for Coefficients

```{.python}
active_estimates = active_idata.posterior[['alpha', 'beta_a', 'beta_p', 'beta_ap']].mean(dim=['chain', 'draw'])
```

```{/python}
#| colab: {base_uri: https://localhost:8080/, height: 336}
active_estimates
```
![](image/pgm1-coefs.png)

```{.python}
#| colab: {base_uri: https://localhost:8080/, height: 447, referenced_widgets: [43cdd0ba638040fcaa288d2d44db47d4, 6147c5dda49a4262b9aea596c965a2e3]}
with active_model:
    active_train_idata = pm.sample_posterior_predictive(active_idata, random_seed = 5650)
az.summary(active_train_idata)
active_train_means = active_train_idata.posterior_predictive['pol_islam'].mean(dim=['chain','draw'])
plot_roc(y_train, active_train_means, "Train ROC: idvar Model")
```
![](image/pgm1-trainroc.png)

```{.python}
#| colab: {base_uri: https://localhost:8080/, height: 447, referenced_widgets: [7618c77d6517486b87ec56430d08af06, 5e383d542efe426ea652ac723bb113d6]}
active_test_coords = {
    'response_id': X_test.index.values
}
with active_model:
    pm.set_data(
        {'pol_islam_obs': y_test, 'ps_islam_obs': X_test['persocio_islam0'], 'pol_act_obs': X_test['pol_act0']},
        coords = active_test_coords
    )
with active_model:
    active_test_idata = pm.sample_posterior_predictive(active_idata, random_seed = 5650)

active_test_mean_pol_islam = active_test_idata.posterior_predictive['pol_islam'].mean(dim=['chain','draw'])
active_auc = plot_roc(y_test, active_test_mean_pol_islam, "Test ROC: Active in Politics Model")
survey_model_aucs['idvar'] = active_auc
survey_model_aucs
```
![](image/pgm1-testroc.png)

## PyMC Model Two: Arab Bitterness, Corruption and Stagnation

## PyMC Model Three: Identities in the Public, in the World

# Conclusion

1. The demographics of people who support Political Islam were very diverse, sex, age, income, marital status an employment status, therefore, it would be hard if we are trying to build a supporter profile based solely on demographic variables.
2. The direction of correlations for the personal and social aspects of Islam to that of the political aspect are all positive, yet these measures of religiousity alone would not form a satisfying predictive model.^[the relationship between Islam and law is particularly interesting and among all items they tend to be the most agreeable and most people reached consensus on these items, such as `polpart_shura` and `sharia`]
3. Add the politically active variable to our model and with an interaction term of `pol_act0` and `persocio_islam0` yields a modest yet still informative improvement to our prediction model. Since our goal was not looking for a model that accurately predict people's attitude, but to understand Political Islam from what we observed in this past survey.
4. People who ranked Muslim, Islamic World and Islamic Unity as their priority choice for personal identity, national identity and international cooperation, yet these are also shared priority among all groups of our sample.
5. Negative perceptions and suspicions of the West is a prevailling feature among those who support Political Islam. Yet, this analysis has to be taken with care, since the modern Islamic movements in its inception was one that protested against imperialism and colonialism, which often were brought by the West, gained popularity in the so-called Middle Eastern War of WWI and its aftermath, continued to be the important mobilization of liberation movement after the WW2, supported the nationalist liberation and further became its critic.
6. Discontent and grievance on socioecon circumstance and their relationship with support for Political Islam in this analysis or the particular sample cannot be proven, the coefficients were not significant, and the slight relationship points us to that those who expressed more financial satisfaction `finan_satis` were more likely to hold a positive view on islamic movements. In addition, the distribution of support for islamic movements among different employment status as well as income level were quite even. I would say that the grievance on socioeconomic conditions can be felt through out the survey, yet it wasn't particularly intense when stratified by supporter of Islamist.

![](image/islamic-world.png)

Lastly, I remembered the first day I walked in my history of Islamic Civilization course in the Fall of 2022, we were ask to share about the reason we decided to enroll in this course, it might seem surprising how hard this question can be for Taiwanese students. My answer was not bad, but our professor very straightforwardly ask the many students who said that they wanted only to practice English, to drop the course (since our professor is from the United States)

This summer, I visited MET in New York and noticed a map at the entrance of the relatively tranquille Islam Art collection room. It mapped us the *Artistic centers and relevant sites and cities, 622-present*, and I immediately spotted my birthplace "Taipei" on the map of **Islamic World**. Yes, at the time, my answer was that because my favorite road: the one that connects my kindergarten, elementary school, high school and university, the Xinsheng E road, often called the Road to Heaven, lies a modest but delicate mosque, which I believe might be one of the reason Taipei has the honor of being part of the Islamic World. 

This study thus hopes to at least invite attention to the Islamic movement, Islamic society and world, which all own a history and from 622 onward have been defined by diversity, at the farside of single or fixed identity, not to mention an innate hostile relationship with other identities.

One recommendation is that a reading of the recent history of the Islamic world (particularly the history of the Middle East in the 20th century)^[like the one I later took *Modern Middle East*] is both relevant and important. Such a reading can be very helpful in understanding their ideologies, the bitterness they carried, their critical and creative power, their social and educational work on the ground, as well as instances of violence.
